!function(a){var b=a(".batch-update-menu");if(b.length){var c=b.closest("form"),d=c.find("[name=multiAction]");b.on("click",".field",function(b){var e=a(this).data("field");b.preventDefault(),d.val("batchUpdate"),c.append('<input type="hidden" name="field" value="'+e+'">'),c.submit()})}}(presideJQuery),function(a){a.fn.dataListingTable=function(){return this.each(function(){var b,c,d,e,f,g=a(this),h=g.data(),i=g.attr("id"),j=400,k=h.objectName||cfrequest.objectName||"",l=h.datasourceUrl||cfrequest.datasourceUrl||buildAjaxLink("dataManager.getObjectRecordsForAjaxDataTables",{id:k}),m=h.isMultilingual||cfrequest.isMultilingual||!1,n=h.draftsEnabled||cfrequest.draftsEnabled||!1,k=h.objectName||cfrequest.objectName||"",o=h.objectTitle||cfrequest.objectTitle||i18n.translateResource("preside-objects."+k+":title").toLowerCase(),p=h.allowSearch||cfrequest.allowSearch,q=h.allowFilter||cfrequest.allowFilter,r="undefined"==typeof h.clickableRows?"undefined"==typeof cfrequest.clickableRows||cfrequest.clickableRows:h.clickableRows,s="undefined"==typeof h.useMultiActions?"undefined"==typeof cfrequest.useMultiActions||cfrequest.useMultiActions:h.useMultiActions,t=a("#"+i+"-filter");c=function(){var c,d,e=g.find("thead > tr > th"),f=[],h=[],i=1;for(s&&f.push({sClass:"center",bSortable:!1,mData:"_checkbox",sWidth:"5em"}),n&&i++,m&&i++,c=s?1:0;c<e.length-i;c++)d=a(e.get(c)),f.push({mData:a(e.get(c)).data("field")}),"undefined"!=typeof d.data("defaultSortOrder")&&h.push([c,d.data("defaultSortOrder")]);for(n&&f.push({bSortable:!1,mData:"_status",sWidth:"15em"}),m&&f.push({bSortable:!1,mData:"_translateStatus",sWidth:"12em"}),f.push({sClass:"center",bSortable:!1,mData:"_options",sWidth:"9em"}),d=a(e.get(e.length-1)),c=0;c<e.length;c++)d=a(e.get(c)),"undefined"!=typeof d.data("class")&&(f[c].sClass=d.data("class")),"undefined"!=typeof d.data("sortable")&&(f[c].bSortable=d.data("sortable")),"undefined"!=typeof d.data("width")&&(f[c].sWidth=d.data("width"));b=g.dataTable({aoColumns:f,aaSorting:h,bServerSide:!0,bProcessing:!0,bStateSave:!0,bFilter:p,bAutoWidth:!1,aLengthMenu:[5,10,25,50,100],sDom:"<'well'fr<'clearfix'>><'dataTables_pagination top'<'pull-left'i><'pull-left'l><'pull-right'p>>t<'dataTables_pagination bottom'<'pull-left'i><'pull-left'l><'pull-right'p>>",sAjaxSource:l,fnRowCallback:function(b){$row=a(b),$row.attr("data-context-container","1"),r&&$row.addClass("clickable")},fnInitComplete:function(c){if(p){var d=a(c.aanFeatures.f[0]),e=d.find("input").first();e.addClass("data-table-search"),e.attr("data-global-key","s"),e.attr("autocomplete","off"),e.attr("placeholder",i18n.translateResource("cms:datamanager.search.placeholder",{data:[o],defaultValue:""})),e.wrap('<span class="input-icon"></span>'),e.after('<i class="fa fa-search data-table-search-icon"></i>'),e.keydown("down",function(a){var b=g.find(s?"tbody :checkbox:first":"tbody tr:first");b.length&&b.focus()})}if(q){var d=a(c.aanFeatures.f[0]),f=a('<a href="#" class="pull-right"><i class="fa fa-fw fa-filter"></i> '+i18n.translateResource("cms:datatables.show.advanced.filters")+"</a>");d.prepend(f),d.parent().append(t),t.hide().removeClass("hide").find(".well").removeClass("well"),f.on("click",function(a){d.fadeOut(200,function(){t.fadeIn(200)}),a.preventDefault()}),t.on("click",".quick-filter-toggler",function(b){b.preventDefault(),a(this).find(".fa:first").toggleClass("fa-caret-right fa-caret-down")}),t.on("click",".back-to-basic-search",function(a){a.preventDefault(),t.fadeOut(200,function(){d.fadeIn(200)})}),t.on("change",function(a){b.fnDraw()})}},oLanguage:{oAria:{sSortAscending:i18n.translateResource("cms:datatables.sortAscending",{}),sSortDescending:i18n.translateResource("cms:datatables.sortDescending",{})},oPaginate:{sFirst:i18n.translateResource("cms:datatables.first",{data:[o],defaultValue:""}),sLast:i18n.translateResource("cms:datatables.last",{data:[o],defaultValue:""}),sNext:i18n.translateResource("cms:datatables.next",{data:[o],defaultValue:""}),sPrevious:i18n.translateResource("cms:datatables.previous",{data:[o],defaultValue:""})},sEmptyTable:i18n.translateResource("cms:datatables.emptyTable",{data:[o],defaultValue:""}),sInfo:i18n.translateResource("cms:datatables.info",{data:[o],defaultValue:""}),sInfoEmpty:i18n.translateResource("cms:datatables.infoEmpty",{data:[o],defaultValue:""}),sInfoFiltered:i18n.translateResource("cms:datatables.infoFiltered",{data:[o],defaultValue:""}),sInfoThousands:i18n.translateResource("cms:datatables.infoThousands",{data:[o],defaultValue:""}),sLengthMenu:i18n.translateResource("cms:datatables.lengthMenu",{data:[o],defaultValue:""}),sLoadingRecords:i18n.translateResource("cms:datatables.loadingRecords",{data:[o],defaultValue:""}),sProcessing:i18n.translateResource("cms:datatables.processing",{data:[o],defaultValue:""}),sZeroRecords:i18n.translateResource("cms:datatables.zeroRecords",{data:[o],defaultValue:""}),sSearch:"",sUrl:"",sInfoPostFix:""},fnServerParams:function(a){q&&(a.push({name:"sFilterExpression",value:t.find("[name=filter]").val()}),a.push({name:"sSavedFilterExpressions",value:t.find("[name=filters]").val()}))}}).fnSetFilteringDelay(j)},d=function(){var b=g.find("th input:checkbox"),c=a("#multi-action-buttons");b.on("click",function(){var c=g.find("tr > td:first-child input:checkbox");c.each(function(){this.checked=b.is(":checked"),this.checked?a(this).closest("tr").addClass("selected"):a(this).closest("tr").removeClass("selected")})}),c.data("hidden",!0),g.on("click","th input:checkbox,tbody tr > td:first-child input:checkbox",function(a){var d=g.find("tr > td:first-child input:checkbox:checked").length;d==g.find("td input:checkbox").length?b.prop("checked",!0):b.prop("checked",!1),f(!d),d&&c.data("hidden")?c.slideDown(250).data("hidden",!1).find("button").prop("disabled",!1):d||c.data("hidden")||c.slideUp(250).data("hidden",!0).find("button").prop("disabled",!0)})},setupMultiActionButtons=function(){var b=a("#multi-action-form"),c=b.find("[name=multiAction]");a("#multi-action-buttons button").click(function(b){c.val(a(this).attr("name"))})},f=function(b){g.find("tbody > tr").each(function(){b?a(this).attr("data-context-container","1"):a(this).removeAttr("data-context-container")})},e=function(){g.on("click","tbody :checkbox",function(){var b=a(this);b.closest("tr").toggleClass("selected",b.is(":checked"))})},c(),e(),s&&(d(),setupMultiActionButtons())})},a(".object-listing-table").dataListingTable()}(presideJQuery);
//# sourceMappingURL=_object.min.map